{"version":3,"sources":["components/NavigationBar/NavigationBar.js","components/UI/Spinner/Spinner.js","containers/ArtistInfo/ArtistInfo.js","components/BarChart/Rect/Rect.js","components/BarChart/BarChart.js","components/MetricViewBar/MetricViewBar.js","containers/SocialMediaMetrics/SocialMediaMetrics.js","components/BubbleChart/BubbleChart.js","components/TrackViewBar/TrackViewBar.js","components/TrackDateRange/TrackDateRange.js","containers/TrackMetrics/TrackMetrics.js","App.js","index.js"],"names":["navigationBar","props","react_default","a","createElement","className","id","type","placeholder","onChange","handleArtistChange","href","spinner","style","artistInfo","image","info","genre","content","isLoaded","Spinner_Spinner","height","src","images","alt","name","genres","join","Fragment","textAlign","Rect","state","x","y","width","fill","this","animateRect","_this$state","yExtent","d3","refs","rect","attr","yScale","transition","duration","_this$state2","ref","nextProps","prevState","Component","margin","BarChart","bars","xScale","range","wScale","paddingInner","paddingOuter","accentScale","metricId","startDate","endDate","artistId","xAxis","_this","tickFormat","yAxis","nextState","drawAxis","call","selectAll","_this2","transform","concat","map","d","i","BarChart_Rect_Rect","key","bandwidth","textAnchor","yLabel","chartData","data","filter","sDate","moment","unix","eDate","date","value","domain","metricViewBar","buttons","metricNames","obj","onClick","clicked","bind","fullName","Range","createSliderWithTooltip","Slider","startDateUnix","Date","subtract","endDateUnix","socialMediaMetrics","chartTitle","metrics","getChartData","reduce","acc","metric","m","metricMetadata","push","sort","b","cArr","split","length","MetricViewBar_MetricViewBar","handleMetricIdChange","marginBottom","components_BarChart_BarChart","format","defaultValue","min","max","step","allowCross","tipFormatter","onAfterChange","onRangeChange","simulation","force","strength","BubbleChart","circles","rScale","cScale","trackDateRange","trackMetricId","forceTick","node","radius","on","renderCircles","nodes","alpha","restart","_this3","_this4","svgContainer","exit","remove","nodeEnter","enter","append","label","val","merge","select","text","substring","top15","summary","slice","metadata","asset_name","trackViewBar","padding","trackMetrics","handleTrackIdChange","Object","keys","dateRangeDict","handleTrackDateRangeChange","dateRangeTitle","circleData","bubbleTitle","TW","LW","LM","YTD","LTD","getTrackData","console","log","TrackViewBar_TrackViewBar","TrackDateRange","components_BubbleChart_BubbleChart","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","artist","event","emitDebouncedSearch","target","handleArtistSearch","setState","dataArr","item","timeseries","deltas","totals","e","dtRange","debounce","grabMetricMetadata","grabArtistMetric","prevProps","axios","get","then","response","metricTitles","items","description","catch","error","artists","resetArtistInfo","grabTrackMetrics","grabArtistInfo","_this5","_source","cancel","CancelToken","source","forEach","mId","cancelToken","token","tMetric","objectSpread","isCancel","NavigationBar_NavigationBar","ArtistInfo_ArtistInfo","SocialMediaMetrics_SocialMediaMetrics","TrackMetrics_TrackMetrics","defaults","baseURL","params","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.4a8f60f7.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./NavigationBar.css\";\n\nconst navigationBar = props => {\n  return (\n    <nav className=\"NavigationBar\">\n      <div className=\"NavigationBar__search-bar\">\n        <input\n          id=\"search\"\n          className=\"NavigationBar__input\"\n          type=\"text\"\n          placeholder=\"Search For An Artist\"\n          onChange={props.handleArtistChange}\n        />\n      </div>\n      <div className=\"NavigationBar__links\">\n        <ul className=\"NavigationBar__ul\">\n          <li className=\"NavigationBar__li\">\n            <a href=\"#artistInfo\" className=\"NavigationBar__href\">\n              Artist Info\n            </a>\n          </li>\n          <li className=\"NavigationBar__li\">\n            <a href=\"#socialMedia\" className=\"NavigationBar__href\">\n              Social Media\n            </a>\n          </li>\n          <li className=\"NavigationBar__li\">\n            <a href=\"#trackSpins\" className=\"NavigationBar__href\">\n              Track Spins\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default navigationBar;\n","import React from \"react\";\nimport \"./Spinner.css\";\n\nconst spinner = props => {\n  return (\n    <div style={props.style} className=\"Loader\">\n      Loading...\n    </div>\n  );\n};\n\nexport default spinner;\n","import React from \"react\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport \"./ArtistInfo.css\";\n\nconst artistInfo = props => {\n  let image = null;\n  let info = null;\n  let genre = null;\n  let content = null;\n\n  //if search is pending. show loading spinner.\n  if (props.isLoaded) {\n    content = <Spinner />;\n  }\n\n  //when artist info is retrived. load content instead of spinner.\n  if (props.artistInfo) {\n    image = (\n      <img height=\"100\" src={props.artistInfo.images[0][100]} alt=\"Artist\" />\n    );\n    info = <h1>{props.artistInfo.name}</h1>;\n    genre = <h2>{props.artistInfo.genres.join(\" \")}</h2>;\n\n    content = (\n      <>\n        {image}\n        <div style={{ textAlign: \"center\" }}>\n          {info}\n          {genre}\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div id=\"artistInfo\" className=\"ArtistInfo\">\n      <div className=\"ArtistInfo__label\">\n        <span>Artist Info</span>\n      </div>\n      <div className=\"ArtistInfo__info\">{content}</div>\n    </div>\n  );\n};\n\nexport default artistInfo;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nclass Rect extends Component {\n  state = { x: null, y: null, width: null, height: null, fill: null };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (!nextProps) return null;\n\n    return {\n      x: nextProps.x,\n      y: nextProps.y,\n      width: nextProps.width,\n      height: nextProps.height,\n      fill: nextProps.fill\n    };\n  }\n\n  componentDidMount() {\n    this.animateRect();\n  }\n\n  componentDidUpdate() {\n    this.animateRect();\n  }\n\n  animateRect() {\n    const { y, height } = this.state;\n\n    let rect;\n\n    //use yExtent if exists, if not use linear scale from range 0\n    if (this.props.yExtent) {\n      rect = d3\n        .select(this.refs.rect)\n        .attr(\"y\", this.props.yScale(this.props.yExtent[0]));\n    } else {\n      rect = d3.select(this.refs.rect).attr(\"y\", this.props.yScale(0));\n    }\n\n    //set up bar transition\n    rect\n      .attr(\"height\", 0)\n      .transition()\n      .duration(800)\n      .attr(\"y\", y)\n      .attr(\"height\", height);\n  }\n\n  render() {\n    const { x, y, height, width, fill } = this.state;\n\n    return (\n      <rect ref=\"rect\" x={x} y={y} height={height} width={width} fill={fill} />\n    );\n  }\n}\n\nexport default Rect;\n","import React, { Component } from \"react\";\nimport Rect from \"./Rect/Rect\";\nimport moment from \"moment\";\nimport * as d3 from \"d3\";\nimport \"./BarChart.css\";\n\n//setting up global values for svg height and width\nconst margin = { left: 100, top: 20, right: 20, bottom: 50 };\nconst height = 480 - margin.top - margin.bottom;\nconst width = 800 - margin.left - margin.right;\n\nclass BarChart extends Component {\n  state = {\n    bars: [],\n    xScale: d3.scaleTime().range([0, width]),\n    yScale: d3.scaleLinear().range([height, 0]),\n    //yScale: d3.scaleLog().range([height, 0]),\n    wScale: d3\n      .scaleBand()\n      .range([0, width])\n      .paddingInner(0.1)\n      .paddingOuter(0),\n    accentScale: d3.scaleSequential(d3.interpolateRdBu),\n    yExtent: null,\n    metricId: null,\n    startDate: null,\n    endDate: null,\n    artistId: null\n  };\n\n  //setting up axis and tick formats\n  xAxis = d3.axisBottom(this.state.xScale).tickFormat(d3.timeFormat(\"%b-%Y\"));\n  yAxis = d3.axisLeft(this.state.yScale);\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    //console.log(\"getDerivedStateFromProps\", nextProps, !nextProps);\n    if (!nextProps) return null;\n\n    const { chartData, startDate, endDate, metricId, artistId } = nextProps;\n    const { xScale, yScale, wScale, accentScale } = prevState;\n\n    //clean data\n    const data = chartData\n      .filter(d => {\n        let sDate = moment.unix(startDate);\n        let eDate = moment.unix(endDate);\n        let date = moment(d.date);\n        return d.value && d.date && date >= sDate && date <= eDate;\n      })\n      .map(d => {\n        d.value = +d.value;\n        return d;\n      });\n\n    //recalculate scales with new data\n    xScale.domain(d3.extent(data, d => d.date));\n    yScale.domain([0, d3.max(data, d => d.value)]);\n    //Below is yscale for log\n    //const yExtent = d3.extent(data, d => d.value);\n    //yScale.domain(d3.extent(data, d => d.value));\n    wScale.domain(data.map(d => d.date));\n    accentScale.domain([d3.max(data, d => d.value), 0]);\n\n    //create rect x and y values.\n    const bars = data.map(d => {\n      return {\n        x: xScale(d.date),\n        y: yScale(d.value),\n        height: height - yScale(d.value),\n        fill: accentScale(d.value)\n      };\n    });\n\n    return { bars, yScale, metricId, startDate, endDate, artistId };\n  }\n\n  //Only update barChart if data has been changed.\n  shouldComponentUpdate(nextProps, nextState) {\n    //console.log(\"shouldComponentUpdate\", nextProps, this.state);\n    return (\n      nextProps.metricId !== this.state.metricId ||\n      nextProps.startDate !== this.state.startDate ||\n      nextProps.endDate !== this.state.endDate ||\n      nextProps.artistId !== this.state.artistId\n    );\n  }\n\n  //happens once. render x and y axis on loadup.\n  componentDidMount() {\n    this.drawAxis();\n  }\n\n  //update axis when component updates\n  componentDidUpdate() {\n    this.drawAxis();\n  }\n\n  drawAxis() {\n    d3.select(this.refs.xAxis)\n      .transition()\n      .duration(800)\n      .call(this.xAxis)\n      .selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \".15em\")\n      .attr(\"transform\", \"rotate(-65)\");\n    d3.select(this.refs.yAxis)\n      .transition()\n      .duration(800)\n      .call(this.yAxis);\n  }\n\n  render() {\n    return (\n      <svg\n        height={height + margin.top + margin.bottom}\n        width={width + margin.left + margin.right}\n      >\n        <g transform={`translate(${margin.left},${margin.top})`}>\n          {this.state.bars.map((d, i) => {\n            return (\n              <Rect\n                key={i}\n                x={d.x}\n                y={d.y}\n                height={d.height}\n                width={this.state.wScale.bandwidth()}\n                fill={d.fill}\n                yScale={this.state.yScale}\n                // yExtent={this.state.yExtent}\n              />\n            );\n          })}\n          <g ref=\"xAxis\" transform={`translate(0, ${height})`} />\n          <g ref=\"yAxis\" />\n\n          <text\n            className=\"BarChart-yLabel\"\n            x={-(height / 2)}\n            y={-80}\n            transform=\"rotate(-90)\"\n            textAnchor=\"middle\"\n          >\n            {this.props.yLabel}\n          </text>\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default BarChart;\n","import React from \"react\";\nimport \"./MetricViewBar.css\";\n\nconst metricViewBar = props => {\n  let buttons;\n\n  if (props.metricNames) {\n    buttons = props.metricNames.map(obj => {\n      return (\n        <button\n          key={obj.id}\n          className=\"MetricView__buttons\"\n          onClick={props.clicked.bind(this, obj.id)}\n        >\n          {obj.fullName}\n        </button>\n      );\n    });\n  }\n\n  return <div className=\"MetricViews\">{buttons}</div>;\n};\n\nexport default metricViewBar;\n","import React from \"react\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport BarChart from \"../../components/BarChart/BarChart\";\nimport MetricViewBar from \"../../components/MetricViewBar/MetricViewBar\";\nimport Slider from \"rc-slider\";\n//import Range from \"rc-slider/lib/Range\";\nimport moment from \"moment\";\nimport \"rc-slider/assets/index.css\";\nimport \"./SocialMediaMetrics.css\";\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n//get 5 years ago in unix time\nconst startDateUnix = moment(new Date())\n  .subtract(5, \"y\")\n  .unix();\n//get todays date in unix time\nconst endDateUnix = moment(new Date()).unix();\n\nconst socialMediaMetrics = props => {\n  // let barChart = null;\n  let data = null;\n  let metricNames = null;\n  let content = null;\n  let chartTitle = null;\n  let yLabel = null;\n\n  if (props.isLoaded) {\n    content = <Spinner />;\n  }\n  //only do work if metrics is not null;\n  if (props.metrics) {\n    //Grab data if metric Id was changed\n    data = props.getChartData(props.metricId);\n\n    //grab list of metric names. gets passed into metric view bar.\n    metricNames = props.metrics.data\n      .reduce((acc, metric) => {\n        //look up fullName for each existing metric for artist.\n        let m = props.metricMetadata[metric.metricId];\n        if (m) {\n          acc.push({ fullName: m.fullName, id: metric.metricId });\n        }\n        return acc;\n      }, [])\n      .sort((a, b) => {\n        return a.id - b.id;\n      });\n\n    chartTitle = props.metricMetadata[props.metricId].fullName;\n\n    //grab the last word for y label. gets passed into bar chart.\n    let cArr = chartTitle.split(\" \");\n    yLabel = cArr[cArr.length - 1];\n\n    content = (\n      <>\n        <MetricViewBar\n          clicked={props.handleMetricIdChange}\n          metricNames={metricNames}\n          chartTitle={chartTitle}\n        />\n        <h1 style={{ marginBottom: \".3em\" }}>{chartTitle}</h1>\n        <BarChart\n          chartData={data}\n          yLabel={yLabel}\n          metricId={props.metricId}\n          startDate={props.startDate}\n          endDate={props.endDate}\n          artistId={props.artistId}\n        />\n        <span className=\"SocialMediaMetrics__metrics-date-range\">\n          {moment.unix(props.startDate).format(\"MMM Do YYYY\")}\n          {\"   -   \"}\n          {moment.unix(props.endDate).format(\"MMM Do YYYY\")}\n        </span>\n        <Range\n          className=\"SocialMediaMetrics__metrics-range-slider\"\n          defaultValue={[props.startDate, props.endDate]}\n          min={startDateUnix}\n          max={endDateUnix}\n          step={86400 /*1 day in seconds*/}\n          allowCross={false}\n          tipFormatter={value => moment.unix(value).format(\"MMM Do YYYY\")}\n          onAfterChange={props.onRangeChange}\n        />\n      </>\n    );\n  }\n\n  //return barChart;\n  return (\n    <div id=\"socialMedia\" className=\"SocialMediaMetrics\">\n      <div className=\"SocialMediaMetrics__label\">\n        <span>Social Media</span>\n      </div>\n      <div className=\"SocialMediaMetrics__metrics\">{content}</div>\n    </div>\n  );\n};\n\nexport default socialMediaMetrics;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\n//setting up global values for svg height and width\nconst margin = { left: 20, top: 20, right: 20, bottom: 20 };\nconst height = 600 - margin.top - margin.bottom;\nconst width = 800 - margin.left - margin.right;\n\n//setup the simulation for the bubbles to explode from the center on data change\nconst simulation = d3\n  .forceSimulation()\n  .force(\"center\", d3.forceCenter(width / 2, height / 2))\n  .force(\"charge\", d3.forceManyBody().strength(200));\n\nclass BubbleChart extends Component {\n  state = {\n    circles: [],\n    rScale: d3.scaleLinear().range([30, 125]),\n    cScale: d3.scaleOrdinal(d3.schemePaired),\n    trackDateRange: null,\n    trackMetricId: null,\n    artistId: null\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    //console.log(\"getDerivedStateFromProps\", nextProps,prevState);\n    if (!nextProps) return null;\n    const { data, trackDateRange, trackMetricId, artistId } = nextProps;\n    const { rScale, cScale } = prevState;\n\n    //filter top 15\n    let top15 = data\n      .sort((a, b) => {\n        return b.summary[trackDateRange] - a.summary[trackDateRange];\n      })\n      .slice(0, 15);\n\n    //Update scales with new data\n    rScale.domain(d3.extent(top15, d => d.summary[trackDateRange]));\n    cScale.domain(top15, d => d.metadata.asset_name);\n\n    //create data for circles\n    const circles = top15.map(data => {\n      return {\n        name: data.metadata.asset_name,\n        value: data.summary[trackDateRange]\n      };\n    });\n\n    return { circles, trackDateRange, trackMetricId, artistId };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextProps.trackDateRange !== this.state.trackDateRange ||\n      nextProps.trackMetricId !== this.state.trackMetricId ||\n      nextProps.artistId !== this.state.artistId\n    );\n  }\n\n  componentDidMount() {\n    simulation\n      .force(\n        \"collision\",\n        d3.forceCollide().radius(d => this.state.rScale(d.value))\n      )\n      .on(\"tick\", this.forceTick);\n    this.renderCircles();\n    simulation\n      .nodes(this.state.circles)\n      .alpha(0.9)\n      .restart();\n  }\n\n  componentDidUpdate() {\n    //console.log(\"bubbleChart: componentDidUpdate\");\n    //console.log(this.state.circles);\n\n    simulation\n      .force(\n        \"collision\",\n        d3.forceCollide().radius(d => this.state.rScale(d.value))\n      )\n      .on(\"tick\", this.forceTick);\n\n    this.renderCircles();\n\n    simulation\n      .nodes(this.state.circles)\n      .alpha(0.9)\n      .restart();\n  }\n\n  renderCircles() {\n    //console.log(\"renderCircles\", this.state.circles);\n\n    //JOIN\n    this.node = d3\n      .select(this.refs.svgContainer)\n      .selectAll(\"g\")\n      .data(this.state.circles);\n\n    //EXIT\n    this.node.exit().remove();\n\n    //ENTER\n    this.nodeEnter = this.node.enter().append(\"g\");\n    this.circles = this.nodeEnter.append(\"circle\");\n    this.label = this.nodeEnter.append(\"text\").attr(\"id\", \"label\");\n    this.val = this.nodeEnter.append(\"text\").attr(\"id\", \"val\");\n\n    //ENTER + UPDATE\n    this.node = this.nodeEnter.merge(this.node);\n    this.node\n      .select(\"circle\")\n      .attr(\"y\", 1)\n      .attr(\"r\", d => this.state.rScale(d.value))\n      .attr(\"fill\", d => this.state.cScale(d.name));\n\n    //ENTER + UPDATE\n    this.node = this.nodeEnter.merge(this.node);\n    this.node\n      .select(\"#label\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", d => this.state.rScale(d.value) / 4)\n      .attr(\"fill\", \"black\")\n      .attr(\"font-family\", \"'Pragati Narrow', sans-serif\")\n      .text(d => {\n        //saving time instead of focusing on how to get text to wrap.\n        if (d.name.length > 17 && this.state.rScale(d.value) / 3 > 17)\n          return d.name.substring(0, 17);\n        return d.name.substring(0, this.state.rScale(d.value) / 3);\n      });\n\n    //ENTER + UPDATE\n    this.node = this.nodeEnter.merge(this.node);\n    this.node\n      .select(\"#val\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", d => this.state.rScale(d.value) / 4)\n      .attr(\"dy\", \"1em\")\n      .attr(\"fill\", \"black\")\n      .attr(\"font-family\", \"'Pragati Narrow', sans-serif\")\n      .text(d => d3.format(\",\")(d.value));\n  }\n\n  //update positioning of group every tick.\n  forceTick = () => {\n    this.node.attr(\"transform\", d => `translate(${d.x}, ${d.y})`);\n  };\n\n  render() {\n    return <svg ref=\"svgContainer\" width={width} height={height} />;\n  }\n}\n\nexport default BubbleChart;\n","import React from \"react\";\nimport Spinner from \"../UI/Spinner/Spinner\";\nimport \"./TrackViewBar.css\";\n\nconst trackViewBar = props => {\n  let style = {\n    transform: \"scale(.5)\",\n    margin: \"0px 65px\",\n    padding: \"0\"\n  };\n  return (\n    <div className=\"TrackViews\">\n      {props.trackMetrics[410] ? (\n        <button onClick={props.handleTrackIdChange.bind(this, 410)}>\n          {props.metricMetadata[410].fullName}\n        </button>\n      ) : (\n        <Spinner />\n      )}\n      {props.trackMetrics[411] ? (\n        <button onClick={props.handleTrackIdChange.bind(this, 411)}>\n          {props.metricMetadata[411].fullName}\n        </button>\n      ) : (\n        <Spinner style={style} />\n      )}\n      {props.trackMetrics[413] ? (\n        <button onClick={props.handleTrackIdChange.bind(this, 413)}>\n          {props.metricMetadata[413].fullName}\n        </button>\n      ) : (\n        <Spinner style={style} />\n      )}\n      {props.trackMetrics[414] ? (\n        <button onClick={props.handleTrackIdChange.bind(this, 414)}>\n          {props.metricMetadata[414].fullName}\n        </button>\n      ) : (\n        <Spinner style={style} />\n      )}\n    </div>\n  );\n};\n\nexport default trackViewBar;\n","import React from \"react\";\n\nconst trackDateRange = props => {\n  const dateRangeButtons = Object.keys(props.dateRangeDict).map(key => {\n    if (key === \"LTD\" && props.trackMetricId === 413) return null;\n    if (key === \"LTD\" && props.trackMetricId === 414) return null;\n    return (\n      <button\n        style={{ margin: \"12px 0\" }}\n        key={key}\n        onClick={props.handleTrackDateRangeChange.bind(this, key)}\n      >\n        {props.dateRangeDict[key]}\n      </button>\n    );\n  });\n\n  return dateRangeButtons;\n};\n\nexport default trackDateRange;\n","import React from \"react\";\nimport BubbleChart from \"../../components/BubbleChart/BubbleChart\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\nimport \"./TrackMetrics.css\";\nimport TrackViewBar from \"../../components/TrackViewBar/TrackViewBar\";\nimport TrackDateRange from \"../../components/TrackDateRange/TrackDateRange\";\n\nconst trackMetrics = props => {\n  let circleData = null;\n  let content = null;\n  let bubbleTitle = null;\n  let dateRangeDict = {\n    TW: \"This Week\",\n    LW: \"Last Week\",\n    LM: \"Last Month\",\n    YTD: \"Year To Date\",\n    LTD: \"Lifetime Value\"\n  };\n  let dateRangeTitle;\n\n  //props.trackDateRange\n\n  if (props.isLoaded) {\n    content = <Spinner />;\n  }\n\n  if (props.trackMetrics[props.trackMetricId]) {\n    //grab bubble chart data with new metric id.\n    circleData = props.getTrackData(props.trackMetricId);\n    console.log(circleData);\n    //grab chart title from metric dictionary.\n    bubbleTitle = props.metricMetadata[props.trackMetricId].fullName;\n    dateRangeTitle = dateRangeDict[props.trackDateRange];\n\n    content = (\n      <>\n        <TrackViewBar\n          trackMetrics={props.trackMetrics}\n          handleTrackIdChange={props.handleTrackIdChange}\n          metricMetadata={props.metricMetadata}\n        />\n        <h1 className=\"TrackMetrics__metrics-title\">{bubbleTitle}</h1>\n        <h2 className=\"TrackMetrics__metrics-range\">{dateRangeTitle}</h2>\n        <div className=\"TrackMetrics__section\">\n          <div className=\"TrackMetrics__section-range\">\n            <TrackDateRange\n              handleTrackDateRangeChange={props.handleTrackDateRangeChange}\n              dateRangeDict={dateRangeDict}\n              trackMetricId={props.trackMetricId}\n            />\n          </div>\n          <div>\n            <BubbleChart\n              className=\"BubbleChart\"\n              data={circleData}\n              trackDateRange={props.trackDateRange}\n              trackMetricId={props.trackMetricId}\n              artistId={props.artistId}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div id=\"trackSpins\" className=\"TrackMetrics\">\n      <div className=\"TrackMetrics__label\">\n        <span>Track Spins</span>\n      </div>\n      <div className=\"TrackMetrics__metrics\">{content}</div>\n    </div>\n  );\n};\n\nexport default trackMetrics;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport debounce from \"lodash/debounce\";\nimport NavigationBar from \"./components/NavigationBar/NavigationBar\";\nimport ArtistInfo from \"./containers/ArtistInfo/ArtistInfo\";\nimport SocialMediaMetrics from \"./containers/SocialMediaMetrics/SocialMediaMetrics\";\nimport TrackMetrics from \"./containers/TrackMetrics/TrackMetrics\";\nimport moment from \"moment\";\n\nclass App extends Component {\n  state = {\n    artist: \"\",\n    artistId: \"\",\n    artistInfo: null,\n    metrics: null,\n    metricMetadata: null,\n    metricId: 41,\n    trackMetricId: 410,\n    trackMetrics: {},\n    startDate: moment(new Date())\n      .subtract(5, \"y\")\n      .unix(),\n    endDate: moment(new Date()).unix(),\n    trackDateRange: \"TW\",\n    isLoaded: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.emitDebouncedSearch = debounce(this.handleArtistSearch, 500);\n  }\n\n  //Search Artis Event Handlers\n  handleArtistChange = event => {\n    this.emitDebouncedSearch(event.target.value);\n  };\n  handleArtistSearch = val => {\n    this.setState({ artist: val });\n  };\n\n  componentDidMount() {\n    this.grabMetricMetadata();\n    if (this.state.artist) {\n      this.grabArtistMetric();\n      //this.grabArtistInfo();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    //Only update artist data if new entry is not blank or different from prev entry\n    if (this.state.artist) {\n      if (this.state.artist !== prevState.artist) {\n        this.grabArtistMetric();\n        //this.grabArtistInfo();\n      }\n    }\n  }\n\n  resetArtistInfo() {\n    this.setState({ trackMetrics: {}, metrics: null, artistInfo: null });\n  }\n\n  //Grabs the metric meta data.\n  grabMetricMetadata() {\n    axios\n      .get(\"metrics/?fields=items.*\")\n      .then(response => {\n        //grab fullname and descriptions for corresponding ids.\n        let metricTitles = response.data.items.reduce((acc, m) => {\n          acc[m.id] = { fullName: m.fullName, description: m.description };\n          return acc;\n        }, {});\n\n        this.setState({ metricMetadata: metricTitles });\n      })\n      .catch(error => console.log(error, \"grabMetricMetadata\"));\n  }\n\n  //method to grab artist metrics.\n  grabArtistMetric() {\n    //Grab 5 years of data\n    const startDate = moment(new Date())\n      .subtract(5, \"y\")\n      .format(\"YYYY-MM-DD\");\n    const endDate = moment(new Date()).format(\"YYYY-MM-DD\");\n\n    //API searches for one artist.\n    axios\n      .get(`search/v1/artists/?query=${this.state.artist}&limit=1`)\n      .then(response => {\n        if (!response.data.artists.length) return null;\n\n        //When searching for new artist. Set is loaded to true. Add spinner bars for each section.\n        this.setState({ isLoaded: true });\n        this.resetArtistInfo();\n\n        //Set state for artist info.\n        const artistInfo = response.data.artists[0];\n        this.setState({ artistId: artistInfo.id });\n\n        //grab Track metrics\n        this.grabTrackMetrics();\n\n        //grab artist info\n        this.grabArtistInfo();\n\n        //set metrics to null when searching for new artist metrics;\n        this.setState({ metrics: null });\n        //Grabs Social Media Metrics\n        //id: 28, 41, 11, 151, 247\n        return axios.get(\n          `artists/${\n            artistInfo.id\n          }/data?metricIds=28,41,11,151,247&startDate=${startDate}&endDate=${endDate}&timeseries=totals,deltas`\n        );\n      })\n      .then(response => {\n        if (response) {\n          this.setState({\n            metrics: response.data,\n            metricId: response.data.data[0].metricId\n          });\n        }\n      })\n      .catch(error => console.log(error, \"grabArtistMetric\"));\n  }\n\n  //Grabs Artist Info\n  grabArtistInfo() {\n    //set artist info to null when searching for new artist info.\n    this.setState({ artistInfo: null });\n\n    axios\n      .get(`artists/${this.state.artistId}/`)\n      .then(response => {\n        if (response) {\n          this.setState({ artistInfo: response.data });\n        }\n      })\n      .catch(error => console.log(error, \"grabArtistInfo\"));\n  }\n\n  //Grab Artist Track Metrics\n  grabTrackMetrics() {\n    // cancel the previous request\n    if (typeof this._source != typeof undefined) {\n      this._source.cancel(\"Operation canceled due to new request.\");\n    }\n    // save the new request for cancellation\n    this._source = axios.CancelToken.source();\n\n    //set track Metrics to null when searching new metrics.\n    this.setState({ trackMetrics: {} });\n\n    //metric ids that are used to call track metric API\n    let metricNum = [410, 411, 413, 414];\n\n    metricNum.forEach(mId => {\n      axios\n        .get(\n          `metrics/v1/entity/${this.state.artistId}/nestedAssets?metric=${mId}`,\n          // cancel token used by axios\n          { cancelToken: this._source.token }\n        )\n        .then(response => {\n          console.log(`track metric${mId}`, response.data);\n          const tMetric = { ...this.state.trackMetrics };\n          //if theres no track metrics. API returns empty array. set trackMetrics state null\n          if (!response.data.data) {\n            tMetric[mId] = null;\n          } else {\n            tMetric[mId] = response.data;\n          }\n          this.setState({ trackMetrics: tMetric });\n        })\n        .catch(error => {\n          if (axios.isCancel(error)) {\n            console.log(\"Request canceled\", error);\n          } else {\n            console.log(error);\n          }\n        });\n    });\n  }\n\n  //Filters through an array of metric arrays and returns matching metric ID to pass to barChart component.\n  getChartData = id => {\n    const dataArr = this.state.metrics.data.filter(item => {\n      return item.metricId === id;\n    });\n\n    //if data exists for metric id. grab deltas or totals\n    //refactor this code to create data with both deltas and totals. -AWOO\n    if (dataArr.length) {\n      let data;\n      if (id === 41 || id === 247) {\n        data = dataArr[0].timeseries.deltas;\n      } else {\n        data = dataArr[0].timeseries.totals;\n      }\n      const chartData = Object.keys(data).map(keys => {\n        return { date: new Date(keys), value: data[keys] };\n      });\n\n      return chartData;\n    }\n  };\n\n  //get track data\n  getTrackData = id => {\n    if (this.state.trackMetrics[id]) {\n      return this.state.trackMetrics[id].data.filter(data => {\n        return data.summary[this.state.trackDateRange];\n      });\n    }\n  };\n\n  handleMetricIdChange = id => {\n    if (this.state.metricId !== id) {\n      this.setState({ metricId: id });\n    }\n  };\n\n  onRangeChange = e => {\n    //manage dates with moment js. convert to unix time format. set state for endDate-startDate\n    if (this.state.startDate !== e[0] || this.state.endDate !== e[1]) {\n      this.setState({ startDate: e[0], endDate: e[1] });\n    }\n  };\n\n  handleTrackIdChange = id => {\n    if (this.state.trackMetricId !== id) {\n      this.setState({ trackMetricId: id });\n    }\n  };\n\n  handleTrackDateRangeChange = dtRange => {\n    if (this.state.trackDateRange !== dtRange) {\n      this.setState({ trackDateRange: dtRange });\n    }\n  };\n\n  render() {\n    let {\n      artistId,\n      artistInfo,\n      metrics,\n      metricId,\n      metricMetadata,\n      trackMetricId,\n      trackMetrics,\n      isLoaded,\n      startDate,\n      endDate,\n      trackDateRange\n    } = this.state;\n\n    return (\n      <>\n        <div className=\"App\">\n          <NavigationBar handleArtistChange={this.handleArtistChange} />\n\n          {isLoaded ? (\n            <>\n              <ArtistInfo artistInfo={artistInfo} isLoaded={isLoaded} />\n\n              <SocialMediaMetrics\n                isLoaded={isLoaded}\n                metrics={metrics}\n                onRangeChange={this.onRangeChange}\n                handleMetricIdChange={this.handleMetricIdChange}\n                metricMetadata={metricMetadata}\n                getChartData={this.getChartData}\n                metricId={metricId}\n                startDate={startDate}\n                endDate={endDate}\n                artistId={artistId}\n              />\n\n              <TrackMetrics\n                isLoaded={isLoaded}\n                metricMetadata={metricMetadata}\n                trackMetricId={trackMetricId}\n                trackMetrics={trackMetrics}\n                getTrackData={this.getTrackData}\n                handleTrackIdChange={this.handleTrackIdChange}\n                handleTrackDateRangeChange={this.handleTrackDateRangeChange}\n                trackDateRange={trackDateRange}\n                artistId={artistId}\n              />\n            </>\n          ) : null}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport axios from \"axios\";\n\nconst publicKey = \"eb74a82009cbc53c9b44866743633f9d\";\n\naxios.defaults.baseURL = \"https://api.nextbigsound.com/\";\naxios.defaults.params = {};\naxios.defaults.params[\"access_token\"] = publicKey;\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}